{% extends "muban.html" %}

{% block title %}一级导航{% endblock %}
{% block page-title %}菜单管理{% endblock %}
{% block menu %}菜单管理{% endblock %}
{% block menu2 %}一级菜单列表{% endblock %}
{% block page-content %}


    <div class="alert alert-purple hide" >
        <button class="close" data-dismiss="alert"><i class="pci-cross pci-circle"></i></button>
        <strong>Warning!</strong> {{  menu_add_form_obj.errors }}
    </div>

    <div class="col-md-12">
        <div class="panel">
            <div class="panel-heading">
                <h3 class="panel-title">fg级菜单列表</h3>
            </div>
            <div class="panel-body">

                <!--Launch demo modal wihtout animation-->
                <p>For modals that simply appear rather than fade in to view, remove the <code>.fade</code> class from
                    your modal markup.</p><br>
                <button data-target="#demo-modal-wo-anim"  class="btn btn-primary btn-md" onclick="show_model()">增加一级菜单
                </button>
                <div class="hr-line-dashed"></div>
                <table id="demo-foo-addrow"
                       class="table table-bordered table-hover toggle-circle footable-loaded footable default"
                       data-page-size="7">
                    <thead>
                    <tr>
                        <th data-sort-ignore="true" class="min-width footable-visible footable-first-column"></th>
                        <th data-sort-initial="true" data-toggle="true"
                            class="footable-visible footable-sortable footable-sorted">序号<span
                                class="footable-sort-indicator"></span></th>
                        <th class="footable-visible footable-sortable">菜单名<span
                                class="footable-sort-indicator"></span></th>
                        <th data-hide="phone, tablet" class="footable-visible footable-sortable">菜单位置<span
                                class="footable-sort-indicator"></span></th>
                        <th data-hide="phone, tablet" class="footable-visible footable-last-column footable-sortable">
                            操作<span
                                class="footable-sort-indicator"></span></th>
                    </tr>
                    </thead>

                    <tbody>

                    {% for menu_obj in page_objs %}
                        <tr class="footable-even" style="display: table-row;">
                            <td class="footable-visible footable-first-column">
                                <button class="demo-delete-row btn btn-danger btn-xs"><i class="demo-pli-cross"></i>
                                </button>
                            </td>
                            <td class="footable-visible"><span class="footable-toggle"></span>{{ forloop.counter }}</td>
                            <td class="footable-visible">{{ menu_obj.name }}</td>
                            <td class="footable-visible">{{ menu_obj.seq }}</td>
                            <td class="footable-visible">
                                <a href="#"><span class="label  label-success">编辑</span></a>
                                <a href="#"><span class="label label-table label-danger">删除</span></a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                    <tfoot>
                    <tr>
                        <td colspan="7" class="footable-visible">
                            {% include "paginator.html" %}
                        </td>
                    </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>



{% endblock %}

{% block js %}
    <script>
        function show_model(){

            $(".modal").removeClass("hide");
        }
        function submit_menu() {
            var result = $("#form_menu_add").submit();
            $(".alert").removeClass("hide");
        }
        function clear_data() {
            $('input[type="text"]').each(
                    function () {
                        $(this).val("");
                    }
            )
            $("#errors_div").empty();

            $(".alert").addClass("hide");
        }
    </script>
{% endblock %}